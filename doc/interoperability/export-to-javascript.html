<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/assets/img/scala-js-logo-32.png">
    <link rel="canonical" href="https://www.scala-js.org/doc/interoperability/export-to-javascript.html">

    <title> Export Scala.js APIs to JavaScript - Scala.js</title>

    <meta property="og:title" content="Export Scala.js APIs to JavaScript" /><meta property="og:type" content="website" /><meta property="og:description" content="Build robust front-end web applications in Scala with Scala.js" /><meta property="og:site_name" content="Scala.js" /><meta property="og:image" content="https://www.scala-js.org/assets/img/scala-js-logo-256.png" />


    <link type="text/css" rel="stylesheet" href="/assets/bundle-91bdfeed9789c079530f8a6a05da4b23fd93b28c59e0b7729fc9c2199700d3da.css">

    <script>
      var onloadFunctions = [];
    </script>
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/"><img width="120" alt="Scala.js" src="/assets/img/scala-js-site-logo.svg"></a>
    </div>
    <div class="navbar-collapse collapse navbar-right">
      <ul class="nav navbar-nav">
        <li class="active"><a href="/doc/">DOCUMENTATION</a></li>
        <li ><a href="/libraries/">LIBRARIES</a></li>
        <li ><a href="/community/">COMMUNITY</a></li>
        <li ><a href="/news/">NEWS</a></li>
        <li><a href="#" id="search-icon"><i style="font-size: 20px" class="fa fa-search"></i></a></li>
      </ul>
    </div>
  </div>
</div>
<div id="search-view" class="container">
    <div id="search-box">
            <input type="text" class="form-control" placeholder="Search" id="search-term">
        <div id="search-results" class="container"></div>
    </div>
</div>
<div id="wrap">
    <div id="main">
        <div id="blue">
    <div class="container">
        <div class="row">
            <h3>Export Scala.js APIs to JavaScript</h3>
        </div><!-- /row -->
    </div> <!-- /container -->
</div><!-- /blue -->

<div class="container mtb">
    <div class="row">
        <div class="col-md-9">
            <p>By default, Scala.js classes, objects, methods and properties are not available
to JavaScript. Entities that have to be accessed from JavaScript must be
annotated explicitly as <em>exported</em>, using <code class="highlighter-rouge">@JSExportTopLevel</code> and <code class="highlighter-rouge">@JSExport</code>.</p>

<h2 id="a-simple-example">A simple example</h2>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">package</span> <span class="nn">example</span>

<span class="k">import</span> <span class="nn">scala.scalajs.js.annotation._</span>

<span class="nd">@JSExportTopLevel</span><span class="o">(</span><span class="s">"HelloWorld"</span><span class="o">)</span>
<span class="k">object</span> <span class="nc">HelloWorld</span> <span class="o">{</span>
  <span class="nd">@JSExport</span>
  <span class="k">def</span> <span class="n">sayHello</span><span class="o">()</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
    <span class="n">println</span><span class="o">(</span><span class="s">"Hello world!"</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>This allows to call the <code class="highlighter-rouge">sayHello()</code> method of <code class="highlighter-rouge">HelloWorld</code> like this in
JavaScript:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">HelloWorld</span><span class="p">.</span><span class="nx">sayHello</span><span class="p">();</span></code></pre></figure>

<p>The <code class="highlighter-rouge">@JSExportTopLevel</code> on <code class="highlighter-rouge">HelloWorld</code> exports the object <code class="highlighter-rouge">HelloWorld</code> itself
in the JavaScript global scope. It is however not sufficient to allow JavaScript
to call <em>methods</em> of <code class="highlighter-rouge">HelloWorld</code>. This is why we also have to export the
method <code class="highlighter-rouge">sayHello()</code> with <code class="highlighter-rouge">@JSExport</code>.</p>

<p>In general, things that should be exported on the top-level, such as top-level
objects and classes, are exported with <code class="highlighter-rouge">@JSExportTopLevel</code>, while things that
should be exported as <em>properties</em> or <em>methods</em> in JavaScript are exported with
<code class="highlighter-rouge">@JSExport</code>.</p>

<h2 id="exporting-top-level-objects">Exporting top-level objects</h2>

<p>Put on a top-level object, the <code class="highlighter-rouge">@JSExportTopLevel</code> annotation exports that
object to the JavaScript global scope. The name under which it is to be exported
must be specified as an argument to <code class="highlighter-rouge">@JSExportTopLevel</code>.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nd">@JSExportTopLevel</span><span class="o">(</span><span class="s">"HelloWorld"</span><span class="o">)</span>
<span class="k">object</span> <span class="nc">HelloWorld</span> <span class="o">{</span>
  <span class="o">...</span>
<span class="o">}</span></code></pre></figure>

<p>exports the <code class="highlighter-rouge">HelloWorld</code> object in JavaScript.</p>

<p><strong>Pre 0.6.15 note</strong>: Before Scala.js 0.6.15, objects were exported as 0-argument
functions using <code class="highlighter-rouge">@JSExport</code>, rather than directly with <code class="highlighter-rouge">@JSExportTopLevel</code>. This
is deprecated in 0.6.x, and not supported anymore in Scala.js 1.x.</p>

<h3 id="exporting-under-a-namespace-deprecated">Exporting under a namespace (deprecated)</h3>

<p><strong>Note:</strong> Deprecated since Scala.js 0.6.26, and not supported anymore in Scala.js 1.x.</p>

<p>The export name can contain dots, in which case the exported object is namespaced in JavaScript.
For example,</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nd">@JSExportTopLevel</span><span class="o">(</span><span class="s">"myapp.foo.MainObject"</span><span class="o">)</span>
<span class="k">object</span> <span class="nc">HelloWorld</span> <span class="o">{</span>
  <span class="o">...</span>
<span class="o">}</span></code></pre></figure>

<p>will be accessible in JavaScript using <code class="highlighter-rouge">myapp.foo.MainObject</code>.</p>

<h2 id="exporting-classes">Exporting classes</h2>

<p>The <code class="highlighter-rouge">@JSExportTopLevel</code> annotation can also be used to export Scala.js classes
to JavaScript (but not traits), or, to be more precise, their constructors. This
allows JavaScript code to create instances of the class.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nd">@JSExportTopLevel</span><span class="o">(</span><span class="s">"Foo"</span><span class="o">)</span>
<span class="k">class</span> <span class="nc">Foo</span><span class="o">(</span><span class="k">val</span> <span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">override</span> <span class="k">def</span> <span class="n">toString</span><span class="o">()</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">s</span><span class="s">"Foo($x)"</span>
<span class="o">}</span></code></pre></figure>

<p>exposes <code class="highlighter-rouge">Foo</code> as a constructor function to JavaScript:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Foo</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span></code></pre></figure>

<p>will log the string <code class="highlighter-rouge">"Foo(3)"</code> to the console. This particular example works
because it calls <code class="highlighter-rouge">toString()</code>, which is always exported to JavaScript. Other
methods must be exported explicitly as shown in the next section.</p>

<p><strong>Pre 0.6.15 note</strong>: Before Scala.js 0.6.15, classes were exported using
<code class="highlighter-rouge">@JSExport</code> instead of <code class="highlighter-rouge">@JSExportTopLevel</code>, with the same meaning. This is
deprecated in 0.6.x, and not supported anymore in Scala.js 1.x.</p>

<h2 id="exports-with-modules">Exports with modules</h2>

<p>When <a href="../project/module.html">emitting a module for Scala.js code</a>, top-level exports are not sent to the JavaScript global scope.
Instead, they are genuinely exported from the module.
In that case, an <code class="highlighter-rouge">@JSExportTopLevel</code> annotation has the semantics of an <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export">ECMAScript 2015 export</a>.
For example:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nd">@JSExportTopLevel</span><span class="o">(</span><span class="s">"Bar"</span><span class="o">)</span>
<span class="k">class</span> <span class="nc">Foo</span><span class="o">(</span><span class="k">val</span> <span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span></code></pre></figure>

<p>is semantically equivalent to this JavaScript export:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">export</span> <span class="p">{</span> <span class="nx">Foo</span> <span class="k">as</span> <span class="nx">Bar</span> <span class="p">};</span></code></pre></figure>

<h2 id="exporting-methods">Exporting methods</h2>

<p>Similarly to objects, methods of Scala classes, traits and objects can be
exported with <code class="highlighter-rouge">@JSExport</code>. Unlike for <code class="highlighter-rouge">@JSExportTopLevel</code>, the name argument is
optional for <code class="highlighter-rouge">@JSExport</code>, and defaults to the Scala name of the method.</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">class</span> <span class="nc">Foo</span><span class="o">(</span><span class="k">val</span> <span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="o">{</span>
  <span class="nd">@JSExport</span>
  <span class="k">def</span> <span class="n">square</span><span class="o">()</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="c1">// note the (), omitting them has a different behavior
</span>  <span class="nd">@JSExport</span><span class="o">(</span><span class="s">"foobar"</span><span class="o">)</span>
  <span class="k">def</span> <span class="n">add</span><span class="o">(</span><span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
<span class="o">}</span></code></pre></figure>

<p>Given this definition, and some variable <code class="highlighter-rouge">foo</code> holding an instance of <code class="highlighter-rouge">Foo</code>,
you can call:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">square</span><span class="p">());</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">foobar</span><span class="p">(</span><span class="mi">5</span><span class="p">));</span>
<span class="c1">// console.log(foo.add(3)); // TypeError, add is not a member of foo</span></code></pre></figure>

<h3 id="overloading">Overloading</h3>

<p>Several methods can be exported with the same JavaScript name (either because
they have the same name in Scala, or because they have the same explicit
JavaScript name as parameter of <code class="highlighter-rouge">@JSExport</code>). In that case, run-time overload
resolution will decide which method to call depending on the number and run-time
types of arguments passed to the the method.</p>

<p>For example, given these definitions:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">class</span> <span class="nc">Foo</span><span class="o">(</span><span class="k">val</span> <span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="o">{</span>
  <span class="nd">@JSExport</span>
  <span class="k">def</span> <span class="n">foobar</span><span class="o">()</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">x</span>
  <span class="nd">@JSExport</span>
  <span class="k">def</span> <span class="n">foobar</span><span class="o">(</span><span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
  <span class="nd">@JSExport</span><span class="o">(</span><span class="s">"foobar"</span><span class="o">)</span>
  <span class="k">def</span> <span class="n">bar</span><span class="o">(</span><span class="n">b</span><span class="k">:</span> <span class="kt">Boolean</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="k">if</span> <span class="o">(</span><span class="n">b</span><span class="o">)</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">x</span>
<span class="o">}</span></code></pre></figure>

<p>the following calls will dispatch to each of the three methods:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">foobar</span><span class="p">());</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">foobar</span><span class="p">(</span><span class="mi">5</span><span class="p">));</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">foobar</span><span class="p">(</span><span class="kc">false</span><span class="p">));</span></code></pre></figure>

<p>If the Scala.js compiler cannot produce a dispatching code capable of reliably
disambiguating overloads, it will issue a compile error (with a somewhat cryptic
message):</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">class</span> <span class="nc">Foo</span><span class="o">(</span><span class="k">val</span> <span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="o">{</span>
  <span class="nd">@JSExport</span>
  <span class="k">def</span> <span class="n">foobar</span><span class="o">()</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">x</span>
  <span class="nd">@JSExport</span>
  <span class="k">def</span> <span class="n">foobar</span><span class="o">(</span><span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
  <span class="nd">@JSExport</span><span class="o">(</span><span class="s">"foobar"</span><span class="o">)</span>
  <span class="k">def</span> <span class="n">bar</span><span class="o">(</span><span class="n">i</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">x</span>
<span class="o">}</span></code></pre></figure>

<p>gives:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[error] HelloWorld.scala:16: double definition:
[error] method $js$exported$meth$foobar:(i: Int)Any and
[error] method $js$exported$meth$foobar:(y: Int)Any at line 14
[error] have same type
[error]   @JSExport("foobar")
[error]    ^
[error] one error found
</code></pre></div></div>

<p>Hint to recognize this error: the methods are named <code class="highlighter-rouge">$js$exported$meth$</code>
followed by the JavaScript export name.</p>

<h3 id="-exporting-for-call-with-named-parameters-deprecated"><a name="JSExportNamed"></a> Exporting for call with named parameters (deprecated)</h3>

<p><strong>Note:</strong> Since Scala.js 0.6.11, <code class="highlighter-rouge">@JSExportNamed</code> is deprecated, and is not supported anymore in Scala.js 1.x.
Refer to <a href="https://www.scala-js.org/api/scalajs-library/0.6.18/#scala.scalajs.js.annotation.JSExportNamed">the Scaladoc</a> for migration tips.</p>

<p>It is customary in Scala to call methods with named parameters if this eases understanding of the code or if many arguments with default values are present:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">def</span> <span class="n">foo</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">1</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">2</span><span class="o">,</span> <span class="n">z</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">3</span><span class="o">)</span> <span class="k">=</span> <span class="o">???</span>

<span class="n">foo</span><span class="o">(</span><span class="n">y</span> <span class="k">=</span> <span class="mi">3</span><span class="o">,</span> <span class="n">x</span> <span class="k">=</span> <span class="mi">2</span><span class="o">)</span></code></pre></figure>

<p>A rough equivalent in JavaScript is to pass an object with the respective properties:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">foo</span><span class="p">({</span>
  <span class="na">y</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="na">x</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">});</span></code></pre></figure>

<p>The <code class="highlighter-rouge">@JSExportNamed</code> annotation allows to export Scala methods for use in JavaScript with named parameters:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">class</span> <span class="nc">A</span> <span class="o">{</span>
  <span class="nd">@JSExportNamed</span>
  <span class="k">def</span> <span class="n">foo</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">2</span><span class="o">,</span> <span class="n">z</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">3</span><span class="o">)</span> <span class="k">=</span> <span class="o">???</span>
<span class="o">}</span></code></pre></figure>

<p>Note that default parameters are not required. <code class="highlighter-rouge">foo</code> can then be called like this:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="c1">// ...</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">foo</span><span class="p">({</span>
  <span class="na">y</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="na">x</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">});</span></code></pre></figure>

<p>Not specifying <code class="highlighter-rouge">x</code> in this case will fail at runtime (since it does not have a default value).</p>

<p>Just like <code class="highlighter-rouge">@JSExport</code>, <code class="highlighter-rouge">@JSExportNamed</code> takes the name of the exported method as an optional argument.</p>

<h2 id="exporting-top-level-methods">Exporting top-level methods</h2>

<p>While an <code class="highlighter-rouge">@JSExport</code>ed method inside an <code class="highlighter-rouge">@JSExportTopLevel</code> object allows JavaScript code to call a “static” method,
it does not feel like a top-level function from JavaScript’s point of view.
<code class="highlighter-rouge">@JSExportTopLevel</code> can also be used directory on a method of a top-level
object, which exports the method as a truly top-level function:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">object</span> <span class="nc">A</span> <span class="o">{</span>
  <span class="nd">@JSExportTopLevel</span><span class="o">(</span><span class="s">"foo"</span><span class="o">)</span>
  <span class="k">def</span> <span class="n">foo</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="o">}</span></code></pre></figure>

<p>can be called from JavaScript as:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">const</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span></code></pre></figure>

<h2 id="exporting-properties">Exporting properties</h2>

<p><code class="highlighter-rouge">val</code>s, <code class="highlighter-rouge">var</code>s and <code class="highlighter-rouge">def</code>s without parentheses, as well as <code class="highlighter-rouge">def</code>s whose name
ends with <code class="highlighter-rouge">_=</code>, have a single argument and <code class="highlighter-rouge">Unit</code> result type, are
exported to JavaScript as properties with getters and/or setters
using, again, the <code class="highlighter-rouge">@JSExport</code> annotation.</p>

<p>Given this weird definition of a halfway mutable point:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="nd">@JSExport</span>
<span class="k">class</span> <span class="nc">Point</span><span class="o">(</span><span class="nc">_x</span><span class="k">:</span> <span class="kt">Double</span><span class="o">,</span> <span class="nc">_y</span><span class="k">:</span> <span class="kt">Double</span><span class="o">)</span> <span class="o">{</span>
  <span class="nd">@JSExport</span>
  <span class="k">val</span> <span class="n">x</span><span class="k">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="nc">_x</span>
  <span class="nd">@JSExport</span>
  <span class="k">var</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="nc">_y</span>
  <span class="nd">@JSExport</span>
  <span class="k">def</span> <span class="n">abs</span><span class="k">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="n">sqrt</span><span class="o">(</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="o">*</span><span class="n">y</span><span class="o">)</span>
  <span class="nd">@JSExport</span>
  <span class="k">def</span> <span class="n">sum</span><span class="k">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
  <span class="nd">@JSExport</span>
  <span class="k">def</span> <span class="n">sum_=</span><span class="o">(</span><span class="n">v</span><span class="k">:</span> <span class="kt">Double</span><span class="o">)</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="n">y</span> <span class="k">=</span> <span class="n">v</span> <span class="o">-</span> <span class="n">x</span>
<span class="o">}</span></code></pre></figure>

<p>JavaScript code can use the properties as follows:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">point</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">x</span><span class="p">);</span>   <span class="c1">// 4</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span>   <span class="c1">// 10</span>
<span class="nx">point</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span>   <span class="c1">// 20</span>
<span class="nx">point</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>            <span class="c1">// does nothing, thanks JS semantics</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">x</span><span class="p">);</span>   <span class="c1">// still 4</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">abs</span><span class="p">);</span> <span class="c1">// 20.396078054371138</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">sum</span><span class="p">);</span> <span class="c1">// 24</span>
<span class="nx">point</span><span class="p">.</span><span class="nx">sum</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">sum</span><span class="p">);</span> <span class="c1">// 30</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">point</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span>   <span class="c1">// 26</span></code></pre></figure>

<p>As usual, explicit names can be given to <code class="highlighter-rouge">@JSExport</code>. For <code class="highlighter-rouge">def</code> setters, the
JS name must be specified <em>without</em> the trailing <code class="highlighter-rouge">_=</code>.</p>

<p><code class="highlighter-rouge">def</code> setters must have a result type of <code class="highlighter-rouge">Unit</code> and exactly one parameter. Note
that several <code class="highlighter-rouge">def</code> setters with different types for their argument can be
exported under a single, overloaded JavaScript name.</p>

<p>In case you overload properties in a way the compiler cannot
disambiguate, the methods in the error messages will be prefixed by
<code class="highlighter-rouge">$js$exported$prop$</code>.</p>

<h3 id="-export-fields-directly-declared-in-constructors"><a name="constructor-params"></a> Export fields directly declared in constructors</h3>
<p>If you want to export fields that are directly declared in a class constructor, you’ll have to use the <code class="highlighter-rouge">@field</code> meta annotation to avoid annotating the constructor arguments (exporting an argument is nonsensical and will fail):</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">scala.annotation.meta.field</span>

<span class="k">class</span> <span class="nc">Point</span><span class="o">(</span>
    <span class="o">@(</span><span class="nc">JSExport</span> <span class="nd">@field</span><span class="o">)</span> <span class="k">val</span> <span class="n">x</span><span class="k">:</span> <span class="kt">Double</span><span class="o">,</span>
    <span class="o">@(</span><span class="nc">JSExport</span> <span class="nd">@field</span><span class="o">)</span> <span class="k">val</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Double</span><span class="o">)</span>

<span class="c1">// Also applies to case classes
</span><span class="k">case</span> <span class="k">class</span> <span class="nc">Point</span><span class="o">(</span>
    <span class="o">@(</span><span class="nc">JSExport</span> <span class="nd">@field</span><span class="o">)</span> <span class="n">x</span><span class="k">:</span> <span class="kt">Double</span><span class="o">,</span>
    <span class="o">@(</span><span class="nc">JSExport</span> <span class="nd">@field</span><span class="o">)</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Double</span><span class="o">)</span></code></pre></figure>

<h2 id="export-fields-to-the-top-level">Export fields to the top level</h2>

<p>Similarly to methods, fields (<code class="highlighter-rouge">val</code>s and <code class="highlighter-rouge">var</code>s) of top-level objects can be
exported as top-level variables using <code class="highlighter-rouge">@JSExportTopLevel</code>:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">object</span> <span class="nc">Foo</span> <span class="o">{</span>
  <span class="nd">@JSExportTopLevel</span><span class="o">(</span><span class="s">"bar"</span><span class="o">)</span>
  <span class="k">val</span> <span class="n">bar</span> <span class="k">=</span> <span class="mi">42</span>

  <span class="nd">@JSExportTopLevel</span><span class="o">(</span><span class="s">"foobar"</span><span class="o">)</span>
  <span class="k">var</span> <span class="n">foobar</span> <span class="k">=</span> <span class="s">"hello"</span>
<span class="o">}</span></code></pre></figure>

<p>exports <code class="highlighter-rouge">bar</code> and <code class="highlighter-rouge">foobar</code> to the top-level, so that they can be used from
JavaScript as</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>    <span class="c1">// 42</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foobar</span><span class="p">);</span> <span class="c1">// "hello"</span></code></pre></figure>

<p>Note that for <code class="highlighter-rouge">var</code>s, the JavaScript binding is <em>read-only</em>, i.e., JavaScript
code cannot assign a new value to an exported <code class="highlighter-rouge">var</code>. However, if Scala.js code
sets <code class="highlighter-rouge">Foo.foobar</code>, the new value will be visible from JavaScript. This is
consistent with exporting a <code class="highlighter-rouge">let</code> binding in ECMAScript 2015 modules.</p>

<h2 id="-automatically-export-all-members"><a name="JSExportAll"></a> Automatically export all members</h2>
<p>Instead of writing <code class="highlighter-rouge">@JSExport</code> on every member of a class or object, you may use the <code class="highlighter-rouge">@JSExportAll</code> annotation. It is equivalent to adding <code class="highlighter-rouge">@JSExport</code> on every public (term) member directly declared in the class/object:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">class</span> <span class="nc">A</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">mul</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
<span class="o">}</span>

<span class="nd">@JSExportAll</span>
<span class="k">class</span> <span class="nc">B</span><span class="o">(</span><span class="k">val</span> <span class="n">a</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">extends</span> <span class="n">A</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">sum</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="o">}</span></code></pre></figure>

<p>This is strictly equivalent to writing:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">class</span> <span class="nc">A</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">mul</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
<span class="o">}</span>

<span class="k">class</span> <span class="nc">B</span><span class="o">(@(</span><span class="nc">JSExport</span> <span class="nd">@field</span><span class="o">)</span> <span class="k">val</span> <span class="n">a</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">extends</span> <span class="n">A</span> <span class="o">{</span>
  <span class="nd">@JSExport</span>
  <span class="k">def</span> <span class="n">sum</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="o">}</span></code></pre></figure>

<p>It is important to note that this does <strong>not</strong> export inherited members. If you wish to do so, you’ll have to override them explicitly:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">class</span> <span class="nc">A</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">mul</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
<span class="o">}</span>

<span class="nd">@JSExportAll</span>
<span class="k">class</span> <span class="nc">B</span><span class="o">(</span><span class="k">val</span> <span class="n">a</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">extends</span> <span class="n">A</span> <span class="o">{</span>
  <span class="k">override</span> <span class="k">def</span> <span class="n">mul</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="k">super</span><span class="o">.</span><span class="n">mul</span><span class="o">(</span><span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="o">)</span>
  <span class="k">def</span> <span class="n">sum</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="o">}</span></code></pre></figure>

<h2 id="deprecated-automatically-exporting-descendent-objects-or-classes">Deprecated: Automatically exporting descendent objects or classes</h2>

<p><strong>Pre 0.6.15 note</strong>: Before Scala.js 0.6.15, this deprecated feature used to be
often used to “reflectively” instantiate classes and load objects. This use case
has been replaced by the
<a href="https://www.scala-js.org/api/scalajs-library/latest/#scala.scalajs.reflect.Reflect$"><code class="highlighter-rouge">scala.scalajs.reflect.Reflect</code></a>
API.
This feature is not supported anymore in Scala.js 1.x.</p>

<p>When applied to a class or trait, <code class="highlighter-rouge">@JSExportDescendentObjects</code> causes all
objects extending it to be automatically exported as 0-arg functions, under
their fully qualified name. For example:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">package</span> <span class="nn">foo.test</span>

<span class="nd">@JSExportDescendentObjects</span>
<span class="k">trait</span> <span class="nc">Test</span> <span class="o">{</span>
  <span class="nd">@JSExport</span>
  <span class="k">def</span> <span class="n">test</span><span class="o">(</span><span class="n">param</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">Unit</span>
<span class="o">}</span>

<span class="c1">// automatically exported as foo.test.Test1
</span><span class="k">object</span> <span class="nc">Test1</span> <span class="k">extends</span> <span class="nc">Test</span> <span class="o">{</span>
  <span class="c1">// exported through inheritance
</span>  <span class="k">def</span> <span class="n">test</span><span class="o">(</span><span class="n">param</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
    <span class="n">println</span><span class="o">(</span><span class="n">param</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>can be used from JavaScript as:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">foo</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">Test1</span><span class="p">().</span><span class="nx">test</span><span class="p">(</span><span class="s2">"hello"</span><span class="p">);</span> <span class="c1">// note the () in Test1()</span></code></pre></figure>

<p>Similarly, <code class="highlighter-rouge">@JSExportDescendentClasses</code> causes all non-abstract classes
the annotated class or trait to be exported under their fully qualified name.</p>

            <div class="spacing"></div>
        </div>
        <div class="col-md-3">
            <nav class="toc" role="navigation">
                
<ul>
    
    <li>
        <a href="/doc/">
            
            
            Introduction
            
        </a>
    </li>
    
    
    <li>
        <a href="/doc/tutorial/">
            
            
            Tutorials
            
        </a>
    </li>
    
      
<ul>
    
    <li>
        <a href="/doc/tutorial/basic/">
            
            
            Basic tutorial
            
        </a>
    </li>
    
    
</ul>

    
    
    <li>
        <a href="/doc/sjs-for-js/">
            
            
            Scala.js for JavaScript developers
            
        </a>
    </li>
    
      
<ul>
    
    <li>
        <a href="/doc/sjs-for-js/es6-to-scala-part1.html">
            
            
            From ES6 to Scala: Basics
            
        </a>
    </li>
    
    
    <li>
        <a href="/doc/sjs-for-js/es6-to-scala-part2.html">
            
            
            From ES6 to Scala: Collections
            
        </a>
    </li>
    
    
    <li>
        <a href="/doc/sjs-for-js/es6-to-scala-part3.html">
            
            
            From ES6 to Scala: Advanced
            
        </a>
    </li>
    
    
</ul>

    
    
    <li>
        <a href="/doc/project/">
            
            
            Project setup
            
        </a>
    </li>
    
      
<ul>
    
    <li>
        <a href="/doc/project/building.html">
            
            
            Building the application
            
        </a>
    </li>
    
    
    <li>
        <a href="/doc/project/dependencies.html">
            
            
            Dependencies
            
        </a>
    </li>
    
    
    <li>
        <a href="/doc/project/module.html">
            
            
            Emitting modules
            
        </a>
    </li>
    
    
    <li>
        <a href="/doc/project/js-environments.html">
            
            
            JavaScript Environments
            
        </a>
    </li>
    
    
    <li>
        <a href="/doc/project/cross-build.html">
            
            
            Cross-building
            
        </a>
    </li>
    
    
    <li>
        <a href="/doc/project/testing.html">
            
            
            Testing
            
        </a>
    </li>
    
    
</ul>

    
    
    <li>
        <a href="/doc/interoperability/">
            
            
            JavaScript interoperability
            
        </a>
    </li>
    
      
<ul>
    
    <li>
        <a href="/doc/interoperability/types.html">
            
            
            JavaScript types
            
        </a>
    </li>
    
    
    <li>
        <a href="/doc/interoperability/facade-types.html">
            
            
            Write facade types for JS APIs
            
        </a>
    </li>
    
    
    <li>
        <a href="/doc/interoperability/global-scope.html">
            
            
            Access to the JavaScript global scope (1.x only)
            
        </a>
    </li>
    
    
    <li>
        <a href="/doc/interoperability/export-to-javascript.html">
            
            
            <b>Export Scala.js APIs</b>
            
        </a>
    </li>
    
    
    <li>
        <a href="/doc/interoperability/sjs-defined-js-classes.html">
            
            
            Write JavaScript classes in Scala.js
            
        </a>
    </li>
    
    
    <li>
        <a href="/doc/interoperability/exceptions.html">
            
            
            Working with Exceptions
            
        </a>
    </li>
    
    
</ul>

    
    
    <li>
        <a href="/doc/api.html">
            
            
            Scala.js API
            
        </a>
    </li>
    
      
<ul>
    
    <li>
        <a href="/doc/all-api.html">
            
            
            APIs of previous versions
            
        </a>
    </li>
    
    
</ul>

    
    
    <li>
        <a href="/doc/semantics.html">
            
            
            Semantics of Scala.js
            
        </a>
    </li>
    
    
    <li>
        <a href="/doc/internals/">
            
            
            Internals
            
        </a>
    </li>
    
      
<ul>
    
    <li>
        <a href="/doc/internals/performance.html">
            
            
            Performance
            
        </a>
    </li>
    
    
    <li>
        <a href="/doc/internals/downloads.html">
            
            
            Standalone distribution
            
        </a>
    </li>
    
    
    <li>
        <a href="/doc/internals/version-history.html">
            
            
            Version history
            
        </a>
    </li>
    
    
</ul>

    
    
    <li>
        <a href="/doc/faq.html">
            
            
            FAQ
            
        </a>
    </li>
    
    
</ul>

            </nav>
        </div>
    </div>
</div>

    </div>
</div>
<div id="footerwrap">
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <h4>LEARN</h4>

                <div class="hline-w"></div>
                <a class="grey-text text-lighten-3" href="/doc/">Documentation</a><br/>
                <a class="grey-text text-lighten-3" href="/tutorial/">Tutorial</a><br/>
                <a class="grey-text text-lighten-3" href="/doc/faq.html">FAQ</a>
            </div>
            <div class="col-md-4">
                <h4>COMMUNITY</h4>

                <div class="hline-w"></div>
                <a class="grey-text text-lighten-3" href="https://gitter.im/scala-js/scala-js">Gitter chat</a><br/>
                <a class="grey-text text-lighten-3" href="http://stackoverflow.com/questions/tagged/scala.js">Stackoverflow</a><br/>
                <a class="grey-text text-lighten-3" href="https://groups.google.com/forum/?fromgroups#!forum/scala-js">Mailing list</a><br/>
                <a class="grey-text text-lighten-3" href="http://twitter.com/scala_js">Twitter <i aria-hidden="true" class="fa fa-twitter"></i></a><br/>
                <a href="http://github.com/scala-js/scala-js">GitHub <i aria-hidden="true" class="fa fa-github"></i></a>
            </div>
            <div class="col-md-4">
            </div>
        </div>
    </div>
</div>


<script type="text/javascript">
// delay loading of all JS assets only after first render
function downloadJSAtOnload() {
  var element = document.createElement("script");
  element.src = "/assets/bundle-9889fa9840f41fa2ac0f78fcdf8ed4ec89ec5f10123708d991b965a5cad032b1.js";
  document.body.appendChild(element);
}
if (window.addEventListener)
  window.addEventListener("load", downloadJSAtOnload, false);
else if (window.attachEvent)
  window.attachEvent("onload", downloadJSAtOnload);
else window.onload = downloadJSAtOnload;
</script>



</body>
</html>